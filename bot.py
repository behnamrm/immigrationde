import os
from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, ContextTypes, MessageHandler, filters

# โ Main menu (right-to-left)
MAIN_MENU = [
    ["โ ุณูุงูุงุช ูพุฑุชฺฉุฑุงุฑ", "๐ ฺฺฉโูุณุช ููุงุฌุฑุช"],
    ["๐ ฺฏุฑููโูุง ูพุฑุณุด ู ูพุงุณุฎ", "๐ผ ุฎุฏูุงุช ููุงุฌุฑุช"],
    ["๐ฌ ุชูุงุณ ุจุง ูุง"]
]

# โ Checklist submenu
CHECKLIST_MENU = [
    ["1. โน๏ธ ฺฉุณุจ ุงุทูุงุนุงุช ฺฉู", "2. ๐ ูุฏุงุฑฺฉ ููุฑุฏ ูุงุฒ ูพุฐุฑุด"],
    ["3. ๐ฌ ูุฑุงุญู ุงุฎุฐ ูพุฐุฑุด", "4. ๐ ุขูุงุฏฺฏ ุจุฑุง ุณูุงุฑุช"],
    ["5. โ๏ธ ูุฑูุฏ ุจู ุขููุงู", "๐ ูุดุงูุฏู ููู ูุฑุงุญู"],
    ["๐ ุจุงุฒฺฏุดุช ุจู ููู ุงุตู"]
]

# โ Subitems for each checklist category
CHECKLIST_SUBITEMS = {
    "1. โน๏ธ ฺฉุณุจ ุงุทูุงุนุงุช ฺฉู": [
        "๐ฉ๐ช ฺุฑุง ฺฉุดูุฑ ุขููุงูุ", "๐ ุงููุงุน ููุงุทุน ุชุญุตู ุฏุฑ ุขููุงู", "๐ฃ๏ธ ุชุญุตู ุจู ุขููุงู ุง ุงูฺฏูุณุ",
        "๐ ูพุฐุฑุด ูุดุฑูุท ุง ูุณุชููุ", "๐ ุงููุงุน ุขุฒููู ูุง ุฒุจุงู ุขููุงู", "๐ฌ ฺุทูุฑ ูพุฐุฑุด ุจฺฏุฑูุ",
        "๐ ุจูุฑุณู ุชุญุตู", "๐ฐ ูุฒูู ูุง ุฒูุฏฺฏ ุฏุฑ ุขููุงู", "๐จโ๐ผ ฺฉุงุฑ ุฏุงูุดุฌู ุฏุฑ ุขููุงู",
        "๐ ุชุจุฏู ูุนุฏู ุงุฑุงู ุจู ุขููุงู", "๐ผ ุจุงุฒุงุฑ ฺฉุงุฑ ู ุฏุฑุขูุฏ ุฑุดุชู ูุง ูุฎุชูู ุฏุฑ ุขููุงู",
        "๐ช ููุงูู ูุดูููุงู ุณุฑุจุงุฒ", "๐จโ๐ฉโ๐งโ๐ฆ ูุฒุง ูพูุณุช ุจู ููุณุฑ ู ุฎุงููุงุฏู"
    ],
    "2. ๐ ูุฏุงุฑฺฉ ููุฑุฏ ูุงุฒ ูพุฐุฑุด": [
        "๐ฃ๏ธ ุงุฎุฐ ูุฏุฑฺฉ ุฒุจุงู", "๐ ุชุฑุฌูู ูุฏุงุฑฺฉ", "๐ก ุณุงุฎุช ุงูฺฏุฒู ูุงูู", "๐ ุณุงุฎุช ุฑูุฒูู",
        "๐จ ุณุงุฎุช ูพูุฑุชูููู", "๐จ ุชูุตู ูุงูู ุงุฒ ุงุณุงุชุฏ", "๐งพ ฺฏูุงู ุณุงูู ฺฉุงุฑ",
        "โ ุชุงุฏ (ูฺฏุงู/ุจฺฏูุง) ูุฏุงุฑฺฉ ุชุฑุฌูู ุดุฏู ุฏุฑ ุณูุงุฑุช"
    ],
    "3. ๐ฌ ูุฑุงุญู ุงุฎุฐ ูพุฐุฑุด": [
        "๐ซ ุฏุงูุดฺฏุงู ุง ููุฎุดูููุ", "๐ ุฑูฺฉูฺฏ ุฏุงูุดฺฏุงู ูุง ุขููุงู", "๐ ุฏุฏูุงู ูพุฐุฑุด",
        "๐ ุณุงุช ูุง ุฌุณุชุฌู ุฏุงูุดฺฏุงู ู ุฑุดุชู", "๐ ูพุฐุฑุด ุงุฒ ุทุฑู ุณุงุช ูู ุงุณุณุช",
        "๐ ุณุงุช ุขูุงุจู", "๐ฅ ุงุฎุฐ ูพุฐุฑุด ุงุฒ ุฏุงูุดฺฏุงู", "๐ฆ ุงุฑุณุงู ูุฏุงุฑฺฉ ุจู ุตูุฑุช ูพุณุช",
        "๐ ุซุจุช ูุงู ููุง ุฏุฑ ุฏุงูุดฺฏุงู", "๐ก๏ธ ุจูู ุฏุงูุดุฌู", "๐ ฺฏุฑูุชู ุฎูุงุจฺฏุงู ุฏุงูุดุฌู"
    ],
    "4. ๐ ุขูุงุฏฺฏ ุจุฑุง ุณูุงุฑุช": [
        "๐ ฺฏุฑูุชู ููุจุช ุณูุงุฑุช", "๐ ฺฺฉ ูุณุช ูุฏุงุฑฺฉ ุฑูุฒ ูุตุงุญุจู", "โ ุณูุงูุงุช ูุชุฏุงูู ุฑูุฒ ูุตุงุญุจู",
        "๐ฃ๏ธ ูุตุงุญุจู ู ุชุญูู ูุฒุง", "โ ุฏูุงู ูุนููู ุฑุฌฺฉุช"
    ],
    "5. โ๏ธ ูุฑูุฏ ุจู ุขููุงู": [
        "๐ซ ุฎุฑุฏ ุจูุท ููุงูพูุง", "๐ ฺู ูุณุงู ุจุง ุฎูุฏู ุจุจุฑูุ", "๐ฌ ูุฑูุฏฺฏุงู ู ูุฑู ุฒูู",
        "๐ ูพุฏุง ฺฉุฑุฏู ุฎูุงุจฺฏุงู ู ุฎุงูู", "๐ฑ ุฎุฑุฏ ุณู ฺฉุงุฑุช ุฏุฑ ุขููุงู", "๐ข ุซุจุช ูุญู ุณฺฉููุช (ููุฏู ฺฉุฑุฏู)",
        "๐ฆ ุจุงุฒ ฺฉุฑุฏู ุญุณุงุจ ุจุงูฺฉ", "๐ชช ฺฏุฑูุชู ฺฉุงุฑุช ุงูุงูุช", "๐ ุชูุฏุฏ ุงูุงูุช ุจุนุฏ ุงุฒ ฺฉุณุงู"
    ]
}


# โ ุชูุถุญุงุช ฺฉุงูู ุจุฑุง ููู ุฒุฑุขุชูโูุง
CHECKLIST_CONTENTS = {
    # ๐น ุฏุณุชู 1: ฺฉุณุจ ุงุทูุงุนุงุช ฺฉู
    "๐ฉ๐ช ฺุฑุง ฺฉุดูุฑ ุขููุงูุ": "ุขููุงู ุจู ุฏูู ุฏุงูุดฺฏุงูโูุง ูุนุชุจุฑุ ุดูุฑู ูพุงู ุง ุฑุงฺฏุงูุ ูุฑุตุชโูุง ุดุบู ู ุงูุงูุช ูพุณ ุงุฒ ุชุญุตู ฺฉ ุงุฒ ูุญุจูุจโุชุฑู ููุงุตุฏ ุฏุงูุดุฌูุงู ุงุฑุงู ุงุณุช.",
    "๐ ุงููุงุน ููุงุทุน ุชุญุตู ุฏุฑ ุขููุงู": "ููุงุทุน ุชุญุตู ุดุงูู ฺฉุงุฑุดูุงุณ (ณ ุณุงู)ุ ฺฉุงุฑุดูุงุณ ุงุฑุดุฏ (ฑ.ต-ฒ ุณุงู) ู ุฏฺฉุชุฑุง (ณ-ต ุณุงู) ุงุณุช. ุจุฑุฎ ููุงุทุน ูุงุฒููุฏ ุฏูุฑู ฺฉุงูุฌ ูุณุชูุฏ.",
    "๐ฃ๏ธ ุชุญุตู ุจู ุขููุงู ุง ุงูฺฏูุณุ": "ุชุญุตู ุฏุฑ ููุทุน ฺฉุงุฑุดูุงุณ ุจุดุชุฑ ุจู ุขููุงู ุงุณุชุ ุฏุฑ ุญุงู ฺฉู ููุทุน ุงุฑุดุฏ ู ุฏฺฉุชุฑุง ฺฏุฒููโูุง ุงูฺฏูุณ ุฒุงุฏ ุฏุงุฑุฏ.",
    "๐ ูพุฐุฑุด ูุดุฑูุท ุง ูุณุชููุ": "ูพุฐุฑุด ูุดุฑูุท ุจุฑุง ฺฉุณุงู ุงุณุช ฺฉู ูููุฒ ูุฏุฑฺฉ ุฒุจุงู ูุฏุงุฑูุฏ ู ุจุนุฏุงู ุงุฑุงุฆู ูโุฏููุฏ. ูพุฐุฑุด ูุณุชูู ุจู ูุนู ุงุฑุณุงู ฺฉุงูู ูุฏุงุฑฺฉ ุงุฒ ุฌููู ูุฏุฑฺฉ ุฒุจุงู ุงุณุช.",
    "๐ ุงููุงุน ุขุฒููู ูุง ุฒุจุงู ุขููุงู": "ุขุฒูููโูุง ูุนุชุจุฑ ุดุงูู TestDaFุ DSHุ Goetheุ telc ูุณุชูุฏ. ุญุฏุงูู ุณุทุญ ููุฑุฏ ูุจูู ูุนูููุงู B2 ุง C1 ุงุณุช.",
    "๐ฌ ฺุทูุฑ ูพุฐุฑุด ุจฺฏุฑูุ": "ุงุจุชุฏุง ุฏุงูุดฺฏุงู ููุงุณุจ ูพุฏุง ฺฉูุฏุ ูุฏุงุฑฺฉ ุฑุง ุชูู ู ุชุฑุฌูู ฺฉุฑุฏู ู ุงุฒ ุทุฑู ููโุงุณุณุช ุง ูุณุชูู ุจู ุฏุงูุดฺฏุงู ุฏุฑุฎูุงุณุช ุฏูุฏ.",
    "๐ ุจูุฑุณู ุชุญุตู": "ุจูุฑุณูโูุง ุขููุงู ุจุดุชุฑ ุดุงูู ูุฒูู ุฒูุฏฺฏ ูโุดููุฏ (ูุซู DAAD). ุดูุฑู ุจุดุชุฑ ุฏุงูุดฺฏุงูโูุง ุฑุงฺฏุงู ุงุณุช.",
    "๐ฐ ูุฒูู ูุง ุฒูุฏฺฏ ุฏุฑ ุขููุงู": "ูุฒูู ุฒูุฏฺฏ ุฏุงูุดุฌู ูุงูุงูู ุญุฏูุฏ ธตฐ ุชุง ฑฑฐฐ ูุฑู ุงุณุช. ุดุงูู ุงุฌุงุฑูุ ุฎูุฑุฏ ู ุฎูุฑุงฺฉุ ุจููุ ุญููโูููู ู ุบุฑู.",
    "๐จโ๐ผ ฺฉุงุฑ ุฏุงูุดุฌู ุฏุฑ ุขููุงู": "ุฏุงูุดุฌูุงู ูโุชูุงููุฏ ุณุงูุงูู ฑฒฐ ุฑูุฒ ฺฉุงูู ุง ฒดฐ ููโุฑูุฒ ฺฉุงุฑ ฺฉููุฏ. ุฏุฑุขูุฏ ุณุงุนุช ุญุฏูุฏ ฑฒ-ฑต ูุฑู ุงุณุช.",
    "๐ ุชุจุฏู ูุนุฏู ุงุฑุงู ุจู ุขููุงู": "ูุนุฏู ุงุฑุงู ุจู ููุฑู ุขููุงู (ฑ ุชุง ต) ุชุจุฏู ูโุดูุฏ. ุณุงุชโูุง ูุงููุฏ DAAD ุง Uni-Assist ูุงุดู ุญุณุงุจ ุชุจุฏู ุฏุงุฑูุฏ.",
    "๐ผ ุจุงุฒุงุฑ ฺฉุงุฑ ู ุฏุฑุขูุฏ ุฑุดุชู ูุง ูุฎุชูู ุฏุฑ ุขููุงู": "ุฑุดุชูโูุง ูุงููุฏ ITุ ูููุฏุณุ ูพุฒุดฺฉุ ูพุฑุณุชุงุฑ ุจุงุฒุงุฑ ฺฉุงุฑ ุจุณุงุฑ ุฎูุจ ุฏุงุฑูุฏ. ุฏุฑุขูุฏ ูุงูุงูู ุงุฒ ณฐฐฐ ูุฑู ุดุฑูุน ูโุดูุฏ.",
    "๐ช ููุงูู ูุดูููุงู ุณุฑุจุงุฒ": "ูุดูููุงู ุจุงุฏ ูุถุนุช ุฎุฏูุช ูุธูู ุฑุง ูุดุฎุต ฺฉุฑุฏู ุจุงุดูุฏ (ูพุงุงู ุฎุฏูุชุ ูุนุงูุช ุง ูุฌูุฒ ุฎุฑูุฌ).",
    "๐จโ๐ฉโ๐งโ๐ฆ ูุฒุง ูพูุณุช ุจู ููุณุฑ ู ุฎุงููุงุฏู": "ุฏุฑ ุตูุฑุช ุฏุงุดุชู ุงูุงูุช ูุงูููุ ุงูฺฉุงู ูพูุณุช ุจุฑุง ููุณุฑ ู ูุฑุฒูุฏ ูุฌูุฏ ุฏุงุฑุฏ. ูุงุฒููุฏ ุชูุงู ูุงู ู ูุญู ุณฺฉููุช ููุงุณุจ ุงุณุช.",

    # ๐น ุฏุณุชู 2: ูุฏุงุฑฺฉ ููุฑุฏ ูุงุฒ ูพุฐุฑุด
    "๐ฃ๏ธ ุงุฎุฐ ูุฏุฑฺฉ ุฒุจุงู": "ุจุฑุง ูพุฐุฑุดุ ุงุฑุงุฆู ูุฏุฑฺฉ ุฒุจุงู ุขููุงู ุง ุงูฺฏูุณ ุถุฑูุฑ ุงุณุช (ูุซู TestDaFุ DSHุ IELTSุ TOEFL).",
    "๐ ุชุฑุฌูู ูุฏุงุฑฺฉ": "ูุฏุงุฑฺฉ ุจุงุฏ ุชูุณุท ุฏุงุฑุงูุชุฑุฌูู ุฑุณู ุชุฑุฌูู ุดุฏู ู ุชูุณุท ุฏุงุฏฺฏุณุชุฑ ู ูุฒุงุฑุช ุฎุงุฑุฌู ุชุฃุฏ ุดููุฏ.",
    "๐ก ุณุงุฎุช ุงูฺฏุฒู ูุงูู": "ุฏุฑ ุงูฺฏุฒูโูุงูู ุจุงุฏ ุฏูุงู ุงูุชุฎุงุจ ุฑุดุชู ู ฺฉุดูุฑุ ุงูุฏุงู ุขูุฏู ู ููุงุท ููุช ุฎูุฏ ุฑุง ุจุงู ฺฉูุฏ.",
    "๐ ุณุงุฎุช ุฑูุฒูู": "ุฑุฒููู ุจุงุฏ ุฎูุงุตูโุง ุงุฒ ุณูุงุจู ุชุญุตูุ ฺฉุงุฑุ ููุงุฑุชโูุง ู ุฒุจุงูโูุง ุจุงุดุฏ (ูุฑูุช Europass ุชูุตู ูโุดูุฏ).",
    "๐จ ุณุงุฎุช ูพูุฑุชูููู": "ุจุฑุง ุฑุดุชูโูุง ููุฑ ุง ุทุฑุงุญุ ูููููโฺฉุงุฑูุง ุจุงุฏ ุจุง ุชูุถุญ ฺฉุงูู ุฏุฑ ูุงูุจ ูพูุฑุชูููู ุงุฑุงุฆู ุดููุฏ.",
    "๐จ ุชูุตู ูุงูู ุงุฒ ุงุณุงุชุฏ": "ุญุฏุงูู ฒ ุชูุตูโูุงูู ุงุฒ ุงุณุงุชุฏ ุฏุงูุดฺฏุงู ูุจูุ ุจุง ุณุฑุจุฑฺฏ ุฑุณู ู ุงูุถุง ุงูุฒุงู ุงุณุช.",
    "๐งพ ฺฏูุงู ุณุงูู ฺฉุงุฑ": "ุจุฑุง ุฑุดุชูโูุง ุญุฑููโุงุ ฺฏูุงู ุชุฌุฑุจู ฺฉุงุฑ ุจุง ุฐฺฉุฑ ูุฏุชุ ุณูุช ู ูุธุงู ููุฏ ุงุณุช.",
    "โ ุชุงุฏ (ูฺฏุงู/ุจฺฏูุง) ูุฏุงุฑฺฉ ุชุฑุฌูู ุดุฏู ุฏุฑ ุณูุงุฑุช": "ุจุฑุง ูุฒุงุ ูุฏุงุฑฺฉ ุชุฑุฌููโุดุฏู ุจุงุฏ ุฏุฑ ุณูุงุฑุช ุง ูุฒุงูุชุฑฺฉ ุชุฃุฏ (legalize) ุดููุฏ.",

    # ๐น ุฏุณุชู 3: ูุฑุงุญู ุงุฎุฐ ูพุฐุฑุด
    "๐ซ ุฏุงูุดฺฏุงู ุง ููุฎุดูููุ": "Universitรคt ุจุฑุง ูพฺููุดโูุญูุฑ ู Hochschule ุจุฑุง ฺฉุงุฑุจุฑุฏ ุงุณุช. ุจุณุชู ุจู ุฑุดุชูุ ููุน ููุงุณุจ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.",
    "๐ ุฑูฺฉูฺฏ ุฏุงูุดฺฏุงู ูุง ุขููุงู": "ุฑุชุจู ุฏุงูุดฺฏุงูโูุง ุฑุง ุฏุฑ ุณุงุชโูุง ูุงููุฏ QS ุง Times ุจุจูุฏ. ุจุฑุง ูุฒุงุ ฺฉูุช ู ุงุนุชุจุงุฑ ุฏุงูุดฺฏุงู ููู ุงุณุช.",
    "๐ ุฏุฏูุงู ูพุฐุฑุด": "ุฏุฏูุงู ุชุฑู ุชุงุจุณุชุงู ูุนูููุงู ฺุงููู ู ุชุฑู ุฒูุณุชุงู ฺูุฆู ุงุณุช. ูุฑ ุฏุงูุดฺฏุงู ุฏุฏูุงู ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุฑุฏ.",
    "๐ ุณุงุช ูุง ุฌุณุชุฌู ุฏุงูุดฺฏุงู ู ุฑุดุชู": "ุณุงุชโูุง ูุซู DAAD.deุ Hochschulkompass.de ุจุฑุง ุฌุณุชุฌู ุจุฑูุงููโูุง ุชุญุตู ุนุงู ูุณุชูุฏ.",
    "๐ ูพุฐุฑุด ุงุฒ ุทุฑู ุณุงุช ูู ุงุณุณุช": "Uni-Assist ฺฉ ูพูุชูุฑู ูุฑฺฉุฒ ุจุฑุง ุงุฑุณุงู ูุฏุงุฑฺฉ ุจู ฺูุฏู ุฏุงูุดฺฏุงู ุขููุงู ุงุณุช (ุจุง ูุฒูู).",
    "๐ ุณุงุช ุขูุงุจู": "ุณุงุช Anabin.de ุจุฑุง ุจุฑุฑุณ ุงุนุชุจุงุฑ ุฏุงูุดฺฏุงู ุง ูุฏุฑฺฉ ุงุฑุงู ุฏุฑ ุขููุงู ุงุณุชูุงุฏู ูโุดูุฏ.",
    "๐ฅ ุงุฎุฐ ูพุฐุฑุด ุงุฒ ุฏุงูุดฺฏุงู": "ูพุณ ุงุฒ ุงุฑุณุงู ูุฏุงุฑฺฉ ู ูพุฑุฏุงุฎุช ูุฒููุ ุฏุงูุดฺฏุงู ูุชุฌู ุฑุง ุงุฒ ุทุฑู ุงูู ุงุนูุงู ูโฺฉูุฏ.",
    "๐ฆ ุงุฑุณุงู ูุฏุงุฑฺฉ ุจู ุตูุฑุช ูพุณุช": "ุจุฑุฎ ุฏุงูุดฺฏุงูโูุง ูุฏุงุฑฺฉ ุฑุง ุจูโุตูุฑุช ูพุณุช ุฏุฑุฎูุงุณุช ูโฺฉููุฏุ ุญุชูุงู ุงุฒ ูุจู ุจุฑุฑุณ ฺฉูุฏ.",
    "๐ ุซุจุช ูุงู ููุง ุฏุฑ ุฏุงูุดฺฏุงู": "ูพุณ ุงุฒ ูุฑูุฏุ ุจุงุฏ ุจู ุตูุฑุช ุญุถูุฑ ุง ุขููุงู ุฏุฑ ุฏุงูุดฺฏุงู ุซุจุชโูุงู ููุง ุงูุฌุงู ุฏูุฏ.",
    "๐ก๏ธ ุจูู ุฏุงูุดุฌู": "ุฏุงุดุชู ุจูู ุณูุงูุช (ูุงููู ุง ุฎุตูุต) ุจุฑุง ุซุจุชโูุงู ู ุงูุงูุช ุฏุฑ ุขููุงู ุงูุฒุงู ุงุณุช.",
    "๐ ฺฏุฑูุชู ุฎูุงุจฺฏุงู ุฏุงูุดุฌู": "ูุฑุงฺฉุฒ Studentenwerk ุง ูุจโุณุงุชโูุง ุงุฌุงุฑู ุงุชุงู ุฏุงูุดุฌู ุจุฑุง ุฏุฑุฎูุงุณุช ุฎูุงุจฺฏุงู ููุฏ ูุณุชูุฏ.",

    # ๐น ุฏุณุชู 4: ุขูุงุฏฺฏ ุจุฑุง ุณูุงุฑุช
    "๐ ฺฏุฑูุชู ููุจุช ุณูุงุฑุช": "ุจุฑุง ูุฒุง ุฏุงูุดุฌูุ ุจุงุฏ ุงุฒ ุทุฑู ูุฒุงูุชุฑฺฉ ุง ุณุงุช ุณูุงุฑุช ููุช ุฑุฒุฑู ฺฉูุฏ. ููฺฉู ุงุณุช ฺูุฏ ูุงู ุทูู ุจฺฉุดุฏ.",
    "๐ ฺฺฉ ูุณุช ูุฏุงุฑฺฉ ุฑูุฒ ูุตุงุญุจู": "ูุฏุงุฑฺฉ ุดุงูู ูพุฐุฑุดุ ุจููุ ฺฏูุงู ุชูฺฉู ูุงูุ ุชุฑุฌููโูุง ู ูุฑูโูุง ุณูุงุฑุช ุงุณุช.",
    "โ ุณูุงูุงุช ูุชุฏุงูู ุฑูุฒ ูุตุงุญุจู": "ุณูุงูุงุช ูุงููุฏ ูุฏู ุงุฒ ุชุญุตูุ ุจุฑูุงูู ุขูุฏู ู ูุฒููโูุง ุฒูุฏฺฏ ูุนูููุงู ูพุฑุณุฏู ูโุดููุฏ.",
    "๐ฃ๏ธ ูุตุงุญุจู ู ุชุญูู ูุฒุง": "ูุตุงุญุจู ุฏุฑ ุณูุงุฑุช ุณุงุฏู ูู ููู ุงุณุช. ุตุฏุงูุช ู ุขูุงุฏฺฏ ุฐูู ูููโุงูุฏ.",
    "โ ุฏูุงู ูุนููู ุฑุฌฺฉุช": "ุฑุฌฺฉุช ููฺฉู ุงุณุช ุจู ุฏูุงู ููุต ูุฏุงุฑฺฉุ ุชูฺฉู ูุงฺฉุงู ุง ุนุฏู ุงููุงุน ุงูุณุฑ ุจุงุดุฏ.",

    # ๐น ุฏุณุชู 5: ูุฑูุฏ ุจู ุขููุงู
    "๐ซ ุฎุฑุฏ ุจูุท ููุงูพูุง": "ุฎุฑุฏ ุจูุท ูพุณ ุงุฒ ุฏุฑุงูุช ูุฒุง ู ููุงููฺฏ ุจุง ุฎูุงุจฺฏุงู ุง ูุญู ุงูุงูุช ุงูุฌุงู ูโุดูุฏ.",
    "๐ ฺู ูุณุงู ุจุง ุฎูุฏู ุจุจุฑูุ": "ูุจุงุณุ ุฏุงุฑูุ ููพโุชุงูพุ ูุฏุงุฑฺฉ ุถุฑูุฑ ู ุดุงุฑฺุฑูุง ฺูุฏฺฏุงูู ุงุฒ ูุณุงู ูพุดููุงุฏ ูุณุชูุฏ.",
    "๐ฌ ูุฑูุฏฺฏุงู ู ูุฑู ุฒูู": "ุฏุฑ ุจุฏู ูุฑูุฏ ุจู ุขููุงูุ ููฺฉู ุงุณุช ูุฃููุฑ ฺฏูุฑฺฉ ุงุฒ ุดูุง ูุฑู Zoll (ูุฑู ูุฑูุฏ) ุจุฎูุงูุฏ.",
    "๐ ูพุฏุง ฺฉุฑุฏู ุฎูุงุจฺฏุงู ู ุฎุงูู": "ุฏุฑ ฺฉูุงุฑ ุฎูุงุจฺฏุงูุ ุณุงุชโูุง ูุงููุฏ WG-Gesucht.de ุง ImmoScout24 ุจุฑุง ุงุฌุงุฑู ุฎุงูู ููุฏูุฏ.",
    "๐ฑ ุฎุฑุฏ ุณู ฺฉุงุฑุช ุฏุฑ ุขููุงู": "ุงูพุฑุงุชูุฑูุง AldiTalkุ O2 ู Vodafone ุณูโฺฉุงุฑุช ุงุนุชุจุงุฑ ุจุง ุงูุชุฑูุช ููุงุณุจ ุงุฑุงุฆู ูโุฏููุฏ.",
    "๐ข ุซุจุช ูุญู ุณฺฉููุช (ููุฏู ฺฉุฑุฏู)": "ูพุณ ุงุฒ ูุฑูุฏ ุจุงุฏ ุธุฑู ฑด ุฑูุฒ ูุญู ุณฺฉููุช ุฑุง ุฏุฑ ุงุฏุงุฑู Bรผrgeramt ุซุจุช ฺฉูุฏ.",
    "๐ฆ ุจุงุฒ ฺฉุฑุฏู ุญุณุงุจ ุจุงูฺฉ": "ุญุณุงุจ ุจูุงฺฉโุดุฏู ุจุฑุง ุฏุฑุงูุช ูุฒุง ุงูุฒุงู ุงุณุช. ูพุณ ุงุฒ ูุฑูุฏ ูู ุญุณุงุจ ูุนููู ูุงุฒ ุฏุงุฑุฏ.",
    "๐ชช ฺฏุฑูุชู ฺฉุงุฑุช ุงูุงูุช": "ุจุฑุง ุงูุงูุช ูุงูููุ ุจุงุฏ ููุช ุจฺฏุฑุฏ ู ุฏุฑ Auslรคnderbehรถrde ฺฉุงุฑุช ุงูุงูุช ุฏุฑุงูุช ฺฉูุฏ.",
    "๐ ุชูุฏุฏ ุงูุงูุช ุจุนุฏ ุงุฒ ฺฉุณุงู": "ุชูุฏุฏ ุงูุงูุช ูุงุฒููุฏ ูุฏุฑฺฉ ุซุจุชโูุงูุ ุจููุ ุญุณุงุจ ุจุงูฺฉ ู ุงุซุจุงุช ูพุดุฑูุช ุชุญุตู ุงุณุช."
}


def split_into_rows(items, row_size=2):
    return [items[i:i+row_size] for i in range(0, len(items), row_size)]

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user
    with open("users_log.txt", "a", encoding="utf-8") as f:
        f.write(f"{user.id} - {user.full_name}\n")

    await update.message.reply_text(
        "ุณูุงู ๐\nุจู ุฑุจุงุช ููุงุฌุฑุช ุจู ุขููุงู ุฎูุด ุขูุฏุฏ!",
        reply_markup=ReplyKeyboardMarkup(MAIN_MENU, resize_keyboard=True)
    )

async def handle_menu(update: Update, context: ContextTypes.DEFAULT_TYPE):
    choice = update.message.text

    if choice == "๐ ฺฺฉโูุณุช ููุงุฌุฑุช":
        await update.message.reply_text("ูุทูุง ุฏุณุชูโุจูุฏ ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ:",
            reply_markup=ReplyKeyboardMarkup(CHECKLIST_MENU, resize_keyboard=True))
        return

    if choice == "๐ ุจุงุฒฺฏุดุช ุจู ููู ุงุตู":
        await update.message.reply_text("ุจุงุฒฺฏุดุช ุจู ููู",
            reply_markup=ReplyKeyboardMarkup(MAIN_MENU, resize_keyboard=True))
        return

    if choice == "๐ ุจุงุฒฺฏุดุช ุจู ฺฺฉโูุณุช":
        await update.message.reply_text("ุจุงุฒฺฏุดุช ุจู ฺฺฉโูุณุช:",
            reply_markup=ReplyKeyboardMarkup(CHECKLIST_MENU, resize_keyboard=True))
        return

    if choice == "๐ ูุดุงูุฏู ููู ูุฑุงุญู":
        all_subitems = sum(CHECKLIST_SUBITEMS.values(), [])
        all_rows = split_into_rows(all_subitems, 3)
        all_rows.append(["๐ ุจุงุฒฺฏุดุช ุจู ฺฺฉโูุณุช"])
        await update.message.reply_text("ุชูุงู ูุฑุงุญู ููุงุฌุฑุช ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ:",
            reply_markup=ReplyKeyboardMarkup(all_rows, resize_keyboard=True))
        return

    if choice in CHECKLIST_SUBITEMS:
        sub_menu = split_into_rows(CHECKLIST_SUBITEMS[choice], 2) + [["๐ ุจุงุฒฺฏุดุช ุจู ฺฺฉโูุณุช"]]
        await update.message.reply_text(f"ุฒุฑูุฌููุนูโูุง ยซ{choice}ยป:",
            reply_markup=ReplyKeyboardMarkup(sub_menu, resize_keyboard=True))
        return

    if choice in CHECKLIST_CONTENTS:
        await update.message.reply_text(CHECKLIST_CONTENTS[choice])
        return

    main_responses = {
        "โ ุณูุงูุงุช ูพุฑุชฺฉุฑุงุฑ": "ูพุฑุณุดโูุง ุฑุงุฌ ุฏุฑุจุงุฑู ููุงุฌุฑุช ุจู ุขููุงู...",
        "๐ ฺฏุฑููโูุง ูพุฑุณุด ู ูพุงุณุฎ": "ููฺฉ ฺฏุฑููโูุง ููุฏ ุชูฺฏุฑุงู ุจุฑุง ููุงุฌุฑุช ุจู ุขููุงู...",
        "๐ผ ุฎุฏูุงุช ููุงุฌุฑุช": "ูุง ุฏุฑ ุฒููู ุงูพูุงุ ูพุฐุฑุดุ ูุฒุงุ ุชุฑุฌูู ูุฏุงุฑฺฉ ู ูุดุงูุฑู ฺฉูฺฉ ูโฺฉูู.",
        "๐ฌ ุชูุงุณ ุจุง ูุง": "@behnamrmz"
    }

    if choice in main_responses:
        await update.message.reply_text(main_responses[choice])
    else:
        await update.message.reply_text("ูุทูุงู ุงุฒ ููู ููุฌูุฏ ฺฏุฒููโุง ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.")

# ๐ข ุงุฌุฑุง ุฑุจุงุช
if __name__ == '__main__':
    app = ApplicationBuilder().token(os.getenv("BOT_TOKEN")).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_menu))
    app.run_polling()
